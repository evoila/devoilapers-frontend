<div>
	<h1>Services</h1>
	<p class="center">Double click service to edit</p>
	<clr-datagrid>
		<clr-dg-column>Name</clr-dg-column>
		<clr-dg-column>Type</clr-dg-column>
		<clr-dg-column>Status</clr-dg-column>
		<clr-dg-column>Interactions</clr-dg-column>
	
		<clr-dg-row *ngFor="let service of services" (dblclick)="this.gotoServiceDetails(service.id)">
			<clr-dg-cell>{{service.name}}</clr-dg-cell>
			<clr-dg-cell>{{service.type}}</clr-dg-cell>
			<clr-dg-cell>{{service.status}}</clr-dg-cell>
			<clr-dg-cell>
				<clr-dg-action-overflow>
					<button (click)="this.gotoServiceDetails(service.id)" class="action-item">
						<clr-icon shape="note"></clr-icon>
						View Service
					  </button>
					<div *ngFor="let actionGroups of service.actionGroups">
						<p>{{actionGroups.name}}</p>
						<button *ngFor="let action of actionGroups.actions" class="action-item" (click)="openModal = true;displayAction(service, action)">
							<clr-icon shape="note"></clr-icon>
							{{ action.name }}
						</button>
					</div>
				  </clr-dg-action-overflow>
			</clr-dg-cell>
		</clr-dg-row>
		<clr-dg-footer>{{services.length}} Services</clr-dg-footer>
	</clr-datagrid>

	<clr-modal [(clrModalOpen)]="openModal">
		<h3 class="modal-title">{{ selectedService.name }}</h3>
		<div class="modal-body">
		  <p>ID: 	{{ selectedService.id }}</p>
		  <p>Action: {{selectedAction.name}}</p>
		</div>
		<div class="modal-footer">
		  <button type="button" class="btn btn-outline" (click)="openModal = false">Cancel</button>
		  <button type="button" class="btn btn-primary" (click)="executeAction()">Execute</button>
		</div>
	  </clr-modal>	  
	  
</div>